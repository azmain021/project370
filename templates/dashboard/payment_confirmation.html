{% extends "base.html" %}
{% block title %}Payment Successful | Project370{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto py-8 px-4">

  <!-- Header -->
  <div class="text-center mb-8">
    <div class="w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 
                rounded-full flex items-center justify-center mx-auto mb-4">
      <i class="fas fa-check-circle text-4xl text-green-600 dark:text-green-400"></i>
    </div>
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">Payment Successful!</h1>
    <p class="text-gray-600 dark:text-gray-400">Your payment has been processed successfully</p>
  </div>

  <!-- Payment Card -->
  <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 mb-6">
    
    <!-- Property Details -->
    <div class="mb-8 pb-8 border-b border-gray-200 dark:border-gray-700">
      <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Property Details</h2>
      
      <div class="flex gap-4 mb-6">
        <div class="w-24 h-24 rounded-xl overflow-hidden flex-shrink-0">
          {% if booking.property.images.first %}
            <img src="{{ booking.property.images.first.image.url }}" alt="{{ booking.property.title }}"
                 class="w-full h-full object-cover">
          {% else %}
            <div class="w-full h-full bg-gradient-to-br from-blue-400 to-indigo-500 
                        flex items-center justify-center">
              <i class="fas fa-home text-white text-2xl"></i>
            </div>
          {% endif %}
        </div>
        
        <div class="flex-1">
          <h3 class="text-lg font-bold text-gray-900 dark:text-white">{{ booking.property.title }}</h3>
          <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
            <i class="fas fa-map-marker-alt text-blue-600 mr-1"></i>
            {{ booking.property.address }}, {{ booking.property.city }}
          </p>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            <i class="fas fa-building text-purple-600 mr-1"></i>
            Type: <span class="font-medium">{{ booking.property.get_property_type_display }}</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Payment Summary -->
    <div class="mb-8 pb-8 border-b border-gray-200 dark:border-gray-700">
      <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Payment Summary</h2>
      
      <div class="space-y-3">
        <div class="flex justify-between items-center">
          <span class="text-gray-600 dark:text-gray-400">Property Price:</span>
          <span class="text-lg font-semibold text-gray-900 dark:text-white">৳ {{ booking.property.price }}</span>
        </div>
        <div class="flex justify-between items-center">
          <span class="text-gray-600 dark:text-gray-400">Booking ID:</span>
          <span class="text-sm font-mono text-gray-900 dark:text-white">#{{ booking.id }}</span>
        </div>
        <div class="flex justify-between items-center">
          <span class="text-gray-600 dark:text-gray-400">Payment Status:</span>
          <span class="px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 
                       rounded-full text-sm font-semibold">
            <i class="fas fa-check-circle mr-1"></i>Completed
          </span>
        </div>
      </div>
    </div>

    <!-- Total Amount -->
    <div class="mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 
                rounded-xl border border-blue-200 dark:border-blue-800">
      <p class="text-gray-600 dark:text-gray-400 text-center mb-2">Total Amount to Pay</p>
      <p class="text-4xl font-bold text-blue-600 dark:text-blue-400 text-center">
        ৳ {{ booking.property.price }}
      </p>
    </div>

    <!-- Instructions -->
    <div class="mb-8 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800">
      <h3 class="text-sm font-bold text-blue-900 dark:text-blue-300 mb-2">
        <i class="fas fa-info-circle mr-2"></i>Important Information
      </h3>
      <ul class="text-sm text-blue-800 dark:text-blue-300 space-y-1">
        <li><i class="fas fa-check mr-2"></i>Your payment will be reviewed by the admin</li>
        <li><i class="fas fa-check mr-2"></i>Once approved, the seller will be notified</li>
        <li><i class="fas fa-check mr-2"></i>You will receive a confirmation email</li>
        <li><i class="fas fa-check mr-2"></i>Keep this booking ID for reference: #{{ booking.id }}</li>
      </ul>
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-3">
      <a href="{% url 'tenant-my-bookings' %}" 
         class="flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 
                rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-all text-center">
        <i class="fas fa-shopping-bag mr-2"></i>My Bookings
      </a>
      
      <a href="{% url 'tenant-my-properties' %}" 
         class="flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white 
                rounded-xl font-semibold hover:from-green-600 hover:to-emerald-700 
                transition-all shadow-md hover:shadow-lg text-center">
        <i class="fas fa-key mr-2"></i>View My Properties
      </a>
    </div>
  </div>

  <!-- Payment Success Info -->
  <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 
              rounded-xl p-6 text-center">
    <p class="text-sm text-green-800 dark:text-green-300">
      <i class="fas fa-check-circle mr-2"></i>
      Congratulations! This property is now yours. You can view it in your "My Properties" section.
    </p>
  </div>

</div>
{% endblock %}
